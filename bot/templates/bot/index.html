<!DOCTYPE html>
<html lang="tg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§–∞—Ä–º–æ–∏—à–∏ —Ö”Ø—Ä–æ–∫</title>
    <style>
        body {
            font-family: 'Tahoma', sans-serif;
            background-color: #f4f4f9;
            color: #333;
            margin: 0;
            padding: 0;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            flex-direction: column;
        }

        h1 {
            color: #3498db;
            margin-bottom: 20px;
        }

        p {
            font-size: 18px;
            color: #555;
        }

        a {
            text-decoration: none;
            font-size: 18px;
            color: #fff;
            background-color: #3498db;
            padding: 10px 20px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        a:hover {
            background-color: #2980b9;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –≤—Å–ø–ª—ã–≤–∞—é—â–µ–≥–æ –æ–∫–Ω–∞ */
        #popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            width: 80%;
            max-width: 500px;
        }

        #popup h2 {
            margin: 0 0 20px;
            font-size: 24px;
            color: #3498db;
        }

        #popup p {
            font-size: 16px;
            color: #555;
        }

        #popup button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #popup button:hover {
            background-color: #2980b9;
        }

        /* –§–æ–Ω –¥–ª—è –∑–∞—Ç–µ–º–Ω–µ–Ω–∏—è */
        #popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–µ–Ω—é */
        .menu-item {
            background-color: #fff;
            margin: 10px 0;
            padding: 15px;
            border-radius: 5px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .menu-item input {
            width: 60px;
            padding: 5px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        .menu-item button {
            background-color: #2ecc71;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .menu-item button:hover {
            background-color: #27ae60;
        }

        /* –°—Ç–∏–ª—å –¥–ª—è —Ñ–æ—Ä–º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ */
        #registration-form {
            display: none;
            text-align: center;
            margin-top: 20px;
        }

        #registration-form input {
            padding: 10px;
            margin: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            width: 200px;
        }

        #registration-form button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #registration-form button:hover {
            background-color: #2980b9;
        }

        /* –ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞/–≤—ã—Ö–æ–¥–∞ */
        #login-logout-btn {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            border-radius: 5px;
            cursor: pointer;
        }

        #login-logout-btn:hover {
            background-color: #2980b9;
        }
    </style>
</head>
<body>

    <h1>–•—É—à –æ–º–∞–¥–µ–¥ –±–∞ –±–æ—Ç–∏ —Ñ–∞—Ä–º–æ–∏—à–∏ —Ö”Ø—Ä–æ–∫!</h1>
    <p><a href="javascript:void(0);" onclick="openPopup()">–ë–∞ —Å”Ø“≥–±–∞—Ç –≥—É–∑–∞—Ä–µ–¥</a></p>

    <!-- –î–æ–±–∞–≤–∏–º —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <p><a href="/admin/">–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª</a></p>  <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ –∞–¥–º–∏–Ω–∫—É -->
    <p><a href="/">–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</a></p>    <!-- –°—Å—ã–ª–∫–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É -->

    <!-- –ö–Ω–æ–ø–∫–∞ –í–æ–π—Ç–∏/–í—ã–π—Ç–∏ -->
    <button id="login-logout-btn" onclick="toggleLoginLogout()">–í–æ–π—Ç–∏</button>

    <!-- –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ -->
    <div id="popup-overlay"></div>
    <div id="popup">
        <h2>ü§ñ –ë–æ—Ç –±–∞—Ä–æ–∏ —Ñ–∞—Ä–º–æ–∏—à–∏ —Ö”Ø—Ä–æ–∫</h2>
        <p>–ß”£ —Ö”Ø—Ä–æ–∫ –º–µ—Ö–æ“≥–µ–¥ —Ñ–∞—Ä–º–æ–∏—à –¥–∏“≥–µ–¥?</p>
        
        <!-- –ú–µ–Ω—é —Å –±–ª—é–¥–∞–º–∏ -->
        <div class="menu-item">
            <span>–ü–∏—Ü—Ü–∞</span>
            <input type="number" id="pizza-qty" value="0" min="0" />
            <button onclick="addToCart('Pizza', document.getElementById('pizza-qty').value)">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
        <div class="menu-item">
            <span>–®–∞—à–ª–∏–∫</span>
            <input type="number" id="shashlik-qty" value="0" min="0" />
            <button onclick="addToCart('Shashlik', document.getElementById('shashlik-qty').value)">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
        <div class="menu-item">
            <span>–ú–∞–Ω—Ç—É</span>
            <input type="number" id="manty-qty" value="0" min="0" />
            <button onclick="addToCart('Manty', document.getElementById('manty-qty').value)">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>
        <div class="menu-item">
            <span>–®”Ø—Ä–±–æ</span>
            <input type="number" id="shurbo-qty" value="0" min="0" />
            <button onclick="addToCart('Shurbo', document.getElementById('shurbo-qty').value)">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞ -->
        <div id="cart-summary"></div>
        <button onclick="placeOrder()">–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑</button>

        <button onclick="closePopup()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div id="registration-form">
        <h3>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
        <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</p>
        <input type="text" id="phone-number" placeholder="–í–∞—à –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞" />
        <button onclick="registerUser()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
    </div>

    <script>
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
        function checkLoginStatus() {
            const phoneNumber = localStorage.getItem('phoneNumber');
            const loginLogoutBtn = document.getElementById('login-logout-btn');

            if (phoneNumber) {
                loginLogoutBtn.textContent = '–í—ã–π—Ç–∏';
            } else {
                loginLogoutBtn.textContent = '–í–æ–π—Ç–∏';
            }
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–≥–æ –æ–∫–Ω–∞
        function openPopup() {
            const phoneNumber = localStorage.getItem('phoneNumber');
            if (!phoneNumber) {
                document.getElementById("registration-form").style.display = "block";
            } else {
                document.getElementById("popup").style.display = "block";
                document.getElementById("popup-overlay").style.display = "block";
            }
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–≥–æ –æ–∫–Ω–∞
        function closePopup() {
            document.getElementById("popup").style.display = "none";
            document.getElementById("popup-overlay").style.display = "none";
        }

        let cart = [];

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É
        function addToCart(dish, qty) {
            if (qty > 0) {
                cart.push({ dish: dish, qty: qty });
                updateCart();
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∑–∏–Ω—ã
        function updateCart() {
            const cartSummary = document.getElementById("cart-summary");
            cartSummary.innerHTML = "<h3>–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞:</h3>";

            if (cart.length === 0) {
                cartSummary.innerHTML += "<p>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>";
            } else {
                cart.forEach(item => {
                    cartSummary.innerHTML += `<p>${item.dish} ‚Äî ${item.qty} —à—Ç.</p>`;
                });
            }
        }

        // –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
        function placeOrder() {
            if (cart.length === 0) {
                alert("–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!");
                return;
            }

            let orderDetails = "–í–∞—à –∑–∞–∫–∞–∑:\n";
            cart.forEach(item => {
                orderDetails += `${item.dish} ‚Äî ${item.qty} —à—Ç.\n`;
            });

            alert(orderDetails);
            cart = [];
            updateCart();
            closePopup();
        }

        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function registerUser() {
            const phoneNumber = document.getElementById('phone-number').value;
            if (phoneNumber) {
                localStorage.setItem('phoneNumber', phoneNumber);
                alert("–í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã!");
                document.getElementById("registration-form").style.display = "none";
                document.getElementById("popup").style.display = "block";
                document.getElementById("popup-overlay").style.display = "block";
                checkLoginStatus(); // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∫–Ω–æ–ø–∫–∏
            } else {
                alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞.");
            }
        }

        // –í—Ö–æ–¥/–í—ã—Ö–æ–¥
        function toggleLoginLogout() {
            const phoneNumber = localStorage.getItem('phoneNumber');
            if (phoneNumber) {
                localStorage.removeItem('phoneNumber');
                alert("–í—ã –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã.");
                checkLoginStatus(); // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∫–Ω–æ–ø–∫–∏
            } else {
                openPopup(); // –û—Ç–∫—Ä—ã–≤–∞–µ–º –æ–∫–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
            }
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –≤—Ö–æ–¥–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        checkLoginStatus();
    </script>

</body>
</html>
